<!DOCTYPE html>
<html>
<head>
  <title>Lorem Ipsum PRESENTA Plugin</title>
  <script src="https://unpkg.com/presenta-sdk"></script>
  <script src="https://unpkg.com/getlorem@1.0.1/lib/getlorem.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/presenta-sdk/dist/main.css" />
  <style>
    *{
      box-sizing: border-box;
    }

    body{
      font-family: Lato, sans-serif;
      font-size: 0.8rem;
    }

    input{
      padding:.5rem;
      width: 100%;
      border:none;
      border:1px solid #ddd;
      margin-bottom: 5px;
    }
    button{
      flex:1;
      border:none;
      background-color: black;
      color:white;
      padding: .75rem;
    }
  
    .row{
        padding-top:0.5rem;
        display: flex;
        flex-direction: column;
    }
    
  </style>
</head>
<body>


    <p>This is more a joke than a real plugin because <b>PRESENTA fosters the content-first principle.</b><br />
      We all agree that lorem-ipsum is NOT content by definition.</p>
    
    
    <div class="row">
      <span>How many slides (10-50)?</span>
      <input id="num" min="10" max="50" value="10" type="range" />
      <input id="name" type="text" placeholder="sign with your name!" />
      <button>Generate!</button>
    </div>
    

    <script type="text/javascript">

        document.querySelector('button').addEventListener('click', () => {

          let arr = []
          
          let name = document.querySelector('#name').value || 'anonymous'
          let num = document.querySelector('#num').value || 10

          arr.push( {
                blocks:[{
                  type: 'text',
                  scale: 4,
                  text: `Welcome <mark>${name}</mark>. <br />Here my book.`
                }]
          })

          for(var i=0; i < num; ++i){
            arr.push({
                blocks:[{
                  align: 'left',
                  flexAlign: 'flex-start',
                  flexJustify: 'flex-start',
                  padding: '2rem',
                  type: 'text',
                  scale: 2,
                  text: `<h1>${getlorem.words(4)}</h1><p>${getlorem.sentences(2)}</p>`
                }]
            })
          }

          // send to PRESENTA
          presenta.createSlides({
            slides: arr
          })
      })

    </script>
    
</body>
</html>